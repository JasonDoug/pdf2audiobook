{"text": "2025-11-06 00:40:42.102 | ERROR    | logging:callHandlers:1762 - Exception in ASGI application\n\nTraceback (most recent call last):\n\n  File \"/home/jason/Projects/Clones/pdf2audiobook/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    │    │       └ <function DefaultDialect.do_execute at 0x7f100e34ba60>\n    │    └ <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7f100e0de3f0>\n    └ <sqlalchemy.engine.base.Connection object at 0x7f1005dbc680>\n  File \"/home/jason/Projects/Clones/pdf2audiobook/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py\", line 951, in do_execute\n    cursor.execute(statement, parameters)\n    │      │       │          └ ('dev_user_123', 1, 0)\n    │      │       └ 'SELECT users.id AS users_id, users.auth_provider_id AS users_auth_provider_id, users.email AS users_email, users.first_name ...\n    │      └ <method 'execute' of 'sqlite3.Cursor' objects>\n    └ <sqlite3.Cursor object at 0x7f0ffe9e6840>\n\nsqlite3.OperationalError: no such table: users\n\n\nThe above exception was the direct cause of the following exception:\n\n\nTraceback (most recent call last):\n\n  File \"/home/jason/Projects/Clones/pdf2audiobook/.venv/bin/uvicorn\", line 10, in <module>\n    sys.exit(main())\n    │   │    └ <Command main>\n    │   └ <built-in function exit>\n    └ <module 'sys' (built-in)>\n  File \"/home/jason/Projects/Clones/pdf2audiobook/.venv/lib/python3.12/site-packages/click/core.py\", line 1462, in __call__\n    return self.main(*args, **kwargs)\n           │    │     │       └ {}\n           │    │     └ ()\n           │    └ <function Command.main at 0x7f1010914720>\n           └ <Command main>\n  File \"/home/jason/Projects/Clones/pdf2audiobook/.venv/lib/python3.12/site-packages/click/core.py\", line 1383, in main\n    rv = self.invoke(ctx)\n         │    │      └ <click.core.Context object at 0x7f10114cfbf0>\n         │    └ <function Command.invoke at 0x7f1010914400>\n         └ <Command main>\n  File \"/home/jason/Projects/Clones/pdf2audiobook/.venv/lib/python3.12/site-packages/click/core.py\", line 1246, in invoke\n    return ctx.invoke(self.callback, **ctx.params)\n           │   │      │    │           │   └ {'host': '127.0.0.1', 'port': 8000, 'app': 'main:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'reload_i...\n           │   │      │    │           └ <click.core.Context object at 0x7f10114cfbf0>\n           │   │      │    └ <function main at 0x7f1010732d40>\n           │   │      └ <Command main>\n           │   └ <function Context.invoke at 0x7f1010913600>\n           └ <click.core.Context object at 0x7f10114cfbf0>\n  File \"/home/jason/Projects/Clones/pdf2audiobook/.venv/lib/python3.12/site-packages/click/core.py\", line 814, in invoke\n    return callback(*args, **kwargs)\n           │         │       └ {'host': '127.0.0.1', 'port': 8000, 'app': 'main:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'reload_i...\n           │         └ ()\n           └ <function main at 0x7f1010732d40>\n  File \"/home/jason/Projects/Clones/pdf2audiobook/.venv/lib/python3.12/site-packages/uvicorn/main.py\", line 423, in main\n    run(\n    └ <function run at 0x7f10109d0540>\n  File \"/home/jason/Projects/Clones/pdf2audiobook/.venv/lib/python3.12/site-packages/uvicorn/main.py\", line 593, in run\n    server.run()\n    │      └ <function Server.run at 0x7f10109bbd80>\n    └ <uvicorn.server.Server object at 0x7f10109bfbc0>\n  File \"/home/jason/Projects/Clones/pdf2audiobook/.venv/lib/python3.12/site-packages/uvicorn/server.py\", line 67, in run\n    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())\n           │           │    │             │                      │    │      └ <function Config.get_loop_factory at 0x7f1010923740>\n           │           │    │             │                      │    └ <uvicorn.config.Config object at 0x7f1010f30050>\n           │           │    │             │                      └ <uvicorn.server.Server object at 0x7f10109bfbc0>\n           │           │    │             └ None\n           │           │    └ <function Server.serve at 0x7f10109bbe20>\n           │           └ <uvicorn.server.Server object at 0x7f10109bfbc0>\n           └ <function run at 0x7f1011434680>\n  File \"/home/jason/.local/share/uv/python/cpython-3.12.11-linux-x86_64-gnu/lib/python3.12/asyncio/runners.py\", line 195, in run\n    return runner.run(main)\n           │      │   └ <coroutine object Server.serve at 0x7f101072fae0>\n           │      └ <function Runner.run at 0x7f1010b06340>\n           └ <asyncio.runners.Runner object at 0x7f101095af30>\n  File \"/home/jason/.local/share/uv/python/cpython-3.12.11-linux-x86_64-gnu/lib/python3.12/asyncio/runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /home/jason/Projects/Clones/pdf2audiobook/.venv/lib/python3.12/si...\n           │    │     └ <cyfunction Loop.run_until_complete at 0x7f10107c7c40>\n           │    └ <uvloop.Loop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x7f101095af30>\n> File \"/home/jason/Projects/Clones/pdf2audiobook/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py\", line 409, in run_asgi\n    result = await app(  # type: ignore[func-returns-value]\n                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1010223470>\n  File \"/home/jason/Projects/Clones/pdf2audiobook/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py\", line 60, in __call__\n    return await self.app(scope, receive, send)\n                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f0ffe976f...\n                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f0ffe9...\n                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n                 │    └ <fastapi.applications.FastAPI object at 0x7f100de6ede0>\n                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1010223470>\n  File \"/home/jason/Projects/Clones/pdf2audiobook/.venv/lib/python3.12/site-packages/fastapi/applications.py\", line 1134, in __call__\n    await super().__call__(scope, receive, send)\n                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f0ffe976f...\n                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f0ffe9...\n                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n  File \"/home/jason/Projects/Clones/pdf2audiobook/.venv/lib/python3.12/site-packages/starlette/applications.py\", line 113, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f0ffe976f...\n          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f0ffe9...\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1005c5bcb0>\n          └ <fastapi.applications.FastAPI object at 0x7f100de6ede0>\n  File \"/home/jason/Projects/Clones/pdf2audiobook/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py\", line 186, in __call__\n    raise exc\n  File \"/home/jason/Projects/Clones/pdf2audiobook/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f1005cc82c0>\n          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f0ffe9...\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          │    └ <starlette.middleware.gzip.GZipMiddleware object at 0x7f1005c5bbf0>\n          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1005c5bcb0>\n  File \"/home/jason/Projects/Clones/pdf2audiobook/.venv/lib/python3.12/site-packages/starlette/middleware/gzip.py\", line 29, in __call__\n    await responder(scope, receive, send)\n          │         │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f1005cc82c0>\n          │         │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f0ffe9...\n          │         └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          └ <starlette.middleware.gzip.IdentityResponder object at 0x7f0ffe976f30>\n  File \"/home/jason/Projects/Clones/pdf2audiobook/.venv/lib/python3.12/site-packages/starlette/middleware/gzip.py\", line 46, in __call__\n    await self.app(scope, receive, self.send_with_compression)\n          │    │   │      │        │    └ <function IdentityResponder.send_with_compression at 0x7f100f501120>\n          │    │   │      │        └ <starlette.middleware.gzip.IdentityResponder object at 0x7f0ffe976f30>\n          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f0ffe9...\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f1005c5bce0>\n          └ <starlette.middleware.gzip.IdentityResponder object at 0x7f0ffe976f30>\n  File \"/home/jason/Projects/Clones/pdf2audiobook/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.IdentityResponder object at 0x7f0ffe976f30>>\n          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f0ffe9...\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f1005c5bec0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f1005c5bce0>\n  File \"/home/jason/Projects/Clones/pdf2audiobook/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n         │            │            └ <function collapse_excgroups at 0x7f100f767d80>\n         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n  File \"/home/jason/.local/share/uv/python/cpython-3.12.11-linux-x86_64-gnu/lib/python3.12/contextlib.py\", line 158, in __exit__\n    self.gen.throw(value)\n    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [OperationalError('(sqlite3.OperationalError) no such table: users')])\n    │    │   └ <method 'throw' of 'generator' objects>\n    │    └ <generator object collapse_excgroups at 0x7f1005c66670>\n    └ <contextlib._GeneratorContextManager object at 0x7f0ffe977800>\n  File \"/home/jason/Projects/Clones/pdf2audiobook/.venv/lib/python3.12/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    raise exc\n  File \"/home/jason/Projects/Clones/pdf2audiobook/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f1005cc8360>\n                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7f0ffe977620>\n                     │    └ <function log_requests at 0x7f100a367100>\n                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f1005c5bec0>\n\n  File \"/home/jason/Projects/Clones/pdf2audiobook/backend/main.py\", line 32, in log_requests\n    response = await call_next(request)\n                     │         └ <starlette.middleware.base._CachedRequest object at 0x7f0ffe977620>\n                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f1005cc8360>\n\n  File \"/home/jason/Projects/Clones/pdf2audiobook/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n          │            │       │            │       └ <attribute '__context__' of 'BaseException' objects>\n          │            │       │            └ OperationalError('(sqlite3.OperationalError) no such table: users')\n          │            │       └ <attribute '__cause__' of 'BaseException' objects>\n          │            └ OperationalError('(sqlite3.OperationalError) no such table: users')\n          └ OperationalError('(sqlite3.OperationalError) no such table: users')\n  File \"/home/jason/Projects/Clones/pdf2audiobook/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f1005cc84a0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f1005cc8400>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f1005c5bd70>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f1005c5bec0>\n  File \"/home/jason/Projects/Clones/pdf2audiobook/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f1005cc84a0>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f1005cc8400>\n          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          │                            │    │    └ <starlette.requests.Request object at 0x7f0ffe977050>\n          │                            │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1005c5be00>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f1005c5bd70>\n          └ <function wrap_app_handling_exceptions at 0x7f100f52af20>\n  File \"/home/jason/Projects/Clones/pdf2audiobook/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/home/jason/Projects/Clones/pdf2audiobook/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f0ffe9ae2a0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f1005cc8400>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1005c5be00>\n  File \"/home/jason/Projects/Clones/pdf2audiobook/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f0ffe9ae2a0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f1005cc8400>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          │    └ <fastapi.routing.APIRouter object at 0x7f1005e11ee0>\n          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1005c5be00>\n  File \"/home/jason/Projects/Clones/pdf2audiobook/.venv/lib/python3.12/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f0ffe9ae2a0>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f1005cc8400>\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7f1005e11ee0>>\n          └ <fastapi.routing.APIRouter object at 0x7f1005e11ee0>\n  File \"/home/jason/Projects/Clones/pdf2audiobook/.venv/lib/python3.12/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f0ffe9ae2a0>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f1005cc8400>\n          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          │     └ <function Route.handle at 0x7f100f554540>\n          └ APIRoute(path='/api/v1/jobs/', name='create_job', methods=['POST'])\n  File \"/home/jason/Projects/Clones/pdf2audiobook/.venv/lib/python3.12/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f0ffe9ae2a0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f1005cc8400>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          │    └ <function request_response.<locals>.app at 0x7f100e127740>\n          └ APIRoute(path='/api/v1/jobs/', name='create_job', methods=['POST'])\n  File \"/home/jason/Projects/Clones/pdf2audiobook/.venv/lib/python3.12/site-packages/fastapi/routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f0ffe9ae2a0>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f1005cc8400>\n          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          │                            │    └ <starlette.requests.Request object at 0x7f0ffe977b90>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7f0ffe9ae3e0>\n          └ <function wrap_app_handling_exceptions at 0x7f100f52af20>\n  File \"/home/jason/Projects/Clones/pdf2audiobook/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/home/jason/Projects/Clones/pdf2audiobook/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f0ffe9ae5c0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f1005cc8400>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          └ <function request_response.<locals>.app.<locals>.app at 0x7f0ffe9ae3e0>\n  File \"/home/jason/Projects/Clones/pdf2audiobook/.venv/lib/python3.12/site-packages/fastapi/routing.py\", line 111, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x7f0ffe977b90>\n                     └ <function get_request_handler.<locals>.app at 0x7f100df7c5e0>\n  File \"/home/jason/Projects/Clones/pdf2audiobook/.venv/lib/python3.12/site-packages/fastapi/routing.py\", line 381, in app\n    solved_result = await solve_dependencies(\n                          └ <function solve_dependencies at 0x7f100f528720>\n  File \"/home/jason/Projects/Clones/pdf2audiobook/.venv/lib/python3.12/site-packages/fastapi/dependencies/utils.py\", line 643, in solve_dependencies\n    solved = await run_in_threadpool(call, **solved_result.values)\n                   │                 │       │             └ {'credentials': HTTPAuthorizationCredentials(scheme='Bearer', credentials='dev-secret-key-for-testing-only'), 'db': <sqlalche...\n                   │                 │       └ SolvedDependency(values={'credentials': HTTPAuthorizationCredentials(scheme='Bearer', credentials='dev-secret-key-for-testing...\n                   │                 └ <function get_current_user at 0x7f100cf7b2e0>\n                   └ <function run_in_threadpool at 0x7f100fa31c60>\n  File \"/home/jason/Projects/Clones/pdf2audiobook/.venv/lib/python3.12/site-packages/starlette/concurrency.py\", line 38, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func)\n                 │     │         │        └ functools.partial(<function get_current_user at 0x7f100cf7b2e0>, credentials=HTTPAuthorizationCredentials(scheme='Bearer', cr...\n                 │     │         └ <function run_sync at 0x7f10107ffce0>\n                 │     └ <module 'anyio.to_thread' from '/home/jason/Projects/Clones/pdf2audiobook/.venv/lib/python3.12/site-packages/anyio/to_thread....\n                 └ <module 'anyio' from '/home/jason/Projects/Clones/pdf2audiobook/.venv/lib/python3.12/site-packages/anyio/__init__.py'>\n  File \"/home/jason/Projects/Clones/pdf2audiobook/.venv/lib/python3.12/site-packages/anyio/to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n                 └ <function get_async_backend at 0x7f1010808b80>\n  File \"/home/jason/Projects/Clones/pdf2audiobook/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py\", line 2485, in run_sync_in_worker_thread\n    return await future\n                 └ <Future finished exception=OperationalError('(sqlite3.OperationalError) no such table: users')>\n  File \"/home/jason/Projects/Clones/pdf2audiobook/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py\", line 976, in run\n    result = context.run(func, *args)\n\n  File \"/home/jason/Projects/Clones/pdf2audiobook/backend/app/services/auth.py\", line 80, in get_current_user\n    user = user_service.get_user_by_auth_id(user_data[\"auth_provider_id\"])\n           │            │                   └ {'auth_provider_id': 'dev_user_123', 'email': 'dev@example.com', 'first_name': 'Dev', 'last_name': 'User'}\n           │            └ <function UserService.get_user_by_auth_id at 0x7f100cfe4ae0>\n           └ <app.services.user.UserService object at 0x7f1005cb5b20>\n\n  File \"/home/jason/Projects/Clones/pdf2audiobook/backend/app/services/user.py\", line 16, in get_user_by_auth_id\n    return self.db.query(User).filter(User.auth_provider_id == auth_provider_id).first()\n           │    │  │     │            │    │                   └ 'dev_user_123'\n           │    │  │     │            │    └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7f100cf91a80>\n           │    │  │     │            └ <class 'app.models.User'>\n           │    │  │     └ <class 'app.models.User'>\n           │    │  └ <function Session.query at 0x7f100e039300>\n           │    └ <sqlalchemy.orm.session.Session object at 0x7f0ffe937950>\n           └ <app.services.user.UserService object at 0x7f1005cb5b20>\n\n  File \"/home/jason/Projects/Clones/pdf2audiobook/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py\", line 2759, in first\n    return self.limit(1)._iter().first()  # type: ignore\n           │    └ <function Query.limit at 0x7f100e19f2e0>\n           └ <sqlalchemy.orm.query.Query object at 0x7f0ffe9d5580>\n  File \"/home/jason/Projects/Clones/pdf2audiobook/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py\", line 2857, in _iter\n    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(\n            │                  │    │      │      │    │       └ <function Session.execute at 0x7f100e038180>\n            │                  │    │      │      │    └ <sqlalchemy.orm.session.Session object at 0x7f0ffe937950>\n            │                  │    │      │      └ <sqlalchemy.orm.query.Query object at 0x7f1005cb5880>\n            │                  │    │      └ ~_T\n            │                  │    └ <class 'sqlalchemy.engine.result.Result'>\n            │                  └ ~_T\n            └ typing.Union\n  File \"/home/jason/Projects/Clones/pdf2audiobook/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py\", line 2351, in execute\n    return self._execute_internal(\n           │    └ <function Session._execute_internal at 0x7f100e023ec0>\n           └ <sqlalchemy.orm.session.Session object at 0x7f0ffe937950>\n  File \"/home/jason/Projects/Clones/pdf2audiobook/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py\", line 2249, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                   │      │                 └ <classmethod(<function AbstractORMCompileState.orm_execute_statement at 0x7f100e2a67a0>)>\n                   │      └ <class 'sqlalchemy.orm.context.ORMSelectCompileState'>\n                   └ typing.Any\n  File \"/home/jason/Projects/Clones/pdf2audiobook/.venv/lib/python3.12/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n             │    └ <function Connection.execute at 0x7f100e4c8180>\n             └ <sqlalchemy.engine.base.Connection object at 0x7f1005dbc680>\n  File \"/home/jason/Projects/Clones/pdf2audiobook/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.selectable.Select object at 0x7f0ffe9d73b0>>\n  File \"/home/jason/Projects/Clones/pdf2audiobook/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           │          └ <function Connection._execute_clauseelement at 0x7f100e4c84a0>\n           └ <sqlalchemy.engine.base.Connection object at 0x7f1005dbc680>\n  File \"/home/jason/Projects/Clones/pdf2audiobook/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py\", line 1641, in _execute_clauseelement\n    ret = self._execute_context(\n          │    └ <function Connection._execute_context at 0x7f100e4c8680>\n          └ <sqlalchemy.engine.base.Connection object at 0x7f1005dbc680>\n  File \"/home/jason/Projects/Clones/pdf2audiobook/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py\", line 1846, in _execute_context\n    return self._exec_single_context(\n           │    └ <function Connection._exec_single_context at 0x7f100e4c8720>\n           └ <sqlalchemy.engine.base.Connection object at 0x7f1005dbc680>\n  File \"/home/jason/Projects/Clones/pdf2audiobook/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py\", line 1986, in _exec_single_context\n    self._handle_dbapi_exception(\n    │    └ <function Connection._handle_dbapi_exception at 0x7f100e4c89a0>\n    └ <sqlalchemy.engine.base.Connection object at 0x7f1005dbc680>\n  File \"/home/jason/Projects/Clones/pdf2audiobook/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py\", line 2355, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n          │                    │              │                 └ OperationalError('no such table: users')\n          │                    │              └ (<class 'sqlite3.OperationalError'>, OperationalError('no such table: users'), <traceback object at 0x7f0ffe9f6140>)\n          │                    └ <method 'with_traceback' of 'BaseException' objects>\n          └ OperationalError('(sqlite3.OperationalError) no such table: users')\n  File \"/home/jason/Projects/Clones/pdf2audiobook/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    │    │       └ <function DefaultDialect.do_execute at 0x7f100e34ba60>\n    │    └ <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7f100e0de3f0>\n    └ <sqlalchemy.engine.base.Connection object at 0x7f1005dbc680>\n  File \"/home/jason/Projects/Clones/pdf2audiobook/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py\", line 951, in do_execute\n    cursor.execute(statement, parameters)\n    │      │       │          └ ('dev_user_123', 1, 0)\n    │      │       └ 'SELECT users.id AS users_id, users.auth_provider_id AS users_auth_provider_id, users.email AS users_email, users.first_name ...\n    │      └ <method 'execute' of 'sqlite3.Cursor' objects>\n    └ <sqlite3.Cursor object at 0x7f0ffe9e6840>\n\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: users\n[SQL: SELECT users.id AS users_id, users.auth_provider_id AS users_auth_provider_id, users.email AS users_email, users.first_name AS users_first_name, users.last_name AS users_last_name, users.subscription_tier AS users_subscription_tier, users.paddle_customer_id AS users_paddle_customer_id, users.one_time_credits AS users_one_time_credits, users.monthly_credits_used AS users_monthly_credits_used, users.created_at AS users_created_at, users.updated_at AS users_updated_at \nFROM users \nWHERE users.auth_provider_id = ?\n LIMIT ? OFFSET ?]\n[parameters: ('dev_user_123', 1, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)\n", "record": {"elapsed": {"repr": "0:00:18.439127", "seconds": 18.439127}, "exception": {"type": "OperationalError", "value": "(sqlite3.OperationalError) no such table: users\n[SQL: SELECT users.id AS users_id, users.auth_provider_id AS users_auth_provider_id, users.email AS users_email, users.first_name AS users_first_name, users.last_name AS users_last_name, users.subscription_tier AS users_subscription_tier, users.paddle_customer_id AS users_paddle_customer_id, users.one_time_credits AS users_one_time_credits, users.monthly_credits_used AS users_monthly_credits_used, users.created_at AS users_created_at, users.updated_at AS users_updated_at \nFROM users \nWHERE users.auth_provider_id = ?\n LIMIT ? OFFSET ?]\n[parameters: ('dev_user_123', 1, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "traceback": true}, "extra": {}, "file": {"name": "__init__.py", "path": "/home/jason/.local/share/uv/python/cpython-3.12.11-linux-x86_64-gnu/lib/python3.12/logging/__init__.py"}, "function": "callHandlers", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 1762, "message": "Exception in ASGI application\n", "module": "__init__", "name": "logging", "process": {"id": 808353, "name": "MainProcess"}, "thread": {"id": 139706986473280, "name": "MainThread"}, "time": {"repr": "2025-11-06 00:40:42.102516-08:00", "timestamp": 1762418442.102516}}}
